# 链家爬虫
### 一.使用
**1）需要提前配置好scrapy，senlenium等python库，并下好chromedriver。准备好后运行begin.py即可自动爬取链家二手房数据**

**2）spdier.py存有需要爬取的url和xpath（可以更具需要更改），middleware.py是模拟浏览器行为，pipeline是爬取数据输出到哪里（项目里是存到csv文件）**

**3）由于使用了undetect chromedriver来减少被检测为爬虫的概率，因此启动程序时需要打开梯子，否则会报错。但是链家在梯子时会偶尔发生错误（即无法访问目标服务器），因此建议仅在启动程序的时候打开梯子，启动完成后就可以关掉了**

**4）考虑到人及检验和登录比较耗时，因此在人及检验和登陆时，爬虫会停止爬取数据，并且不会刷新网页。待验证通过或登陆完成后，需要在中断打enter键，恢复正常爬取行为**

**5）遇到极验封禁或者频繁人及检验的情况，可以删除cookie.plk，重新登陆开始爬**

### 二.效果
**1）每100页左右需要一次人机验证，过了之后可以再爬100页，循环往复**

**2）每一页需要10s左右**

**3）可以通过多开几个爬虫同时爬来提速，但是链家同一时刻同一账号只能登录一次**
